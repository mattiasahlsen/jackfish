{"version":3,"sources":["webpack:///./src/App.vue?355d","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/jackfish/declarations.js","webpack:///src/components/Promotion.vue","webpack:///./src/components/Promotion.vue?9712","webpack:///./src/components/Promotion.vue","webpack:///./src/jackfish/helpers.js","webpack:///./src/jackfish/evaluation.js","webpack:///./src/jackfish/tp.js","webpack:///./src/jackfish/Position.js","webpack:///./src/jackfish/AI.js","webpack:///./src/jackfish/index.js","webpack:///src/components/Home.vue","webpack:///./src/components/Home.vue?4475","webpack:///./src/components/Home.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/assets/img/chesspieces/wikipedia lazy ^\\.\\/.*\\.png$"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","WHITE","BLACK","PIECES","imgs","white","Q","N","R","B","black","q","n","r","b","key","then","val","_loop","_loop2","Promotion","data","props","computed","file","pos","urls","color","width","board","offsetWidth","offset","getBoundingClientRect","x","components_Promotion","_vm","staticClass","style","left","_l","img","piece","src","on","click","$event","$emit","src_components_Promotion","Promotion_normalizeComponent","isWhite","charAt","toUpperCase","isColor","sameColor","p1","p2","next","c","colDif","Math","abs","rank","p","floor","parse","s","length","NaN","toLowerCase","charCodeAt","a","h","squareToString","String","fromCharCode","toString","concat","equalBoards","b1","b2","i","PIECE","P","K","pstRaw","pst","bKey","forEach","e","push","evaluation_key","evaluation__loop","evaluate","value","Random","random","engines","mt19937","seed","rand","integer","pow","randoms","hashes","turn","wc","bc","epFile","kp","kps","Lru","maxSize","classCallCheck_default","map","map_default","createClass_default","size","hash","low","high","arr","get","undefined","delete","set","keys","clear","tp_Cwf","Cwf","cache","currentSize","A1","H8","W","steps","Position_key","S","Position_i","Position","boardOrFen","arguments","ep","halfMoveClock","score","myHash","boardHash","fen","subs","trim","split","num","parseInt","is_integer_default","j","Error","used","applyHashes","hashParam","tp_hash","hashBoard","rights","step","t","tp","includes","ret","slice","hashNullMove","prev","move","promo","o","op","helper","newHashes","hashMove","_this","newHash","newBoardHash","applyHash","applyBoardHash","moves","genMoves","el","done","nextPos","nextMoves","nextEl","mySteps","pawnSteps","pawn","kingSquare","indexOf","bq","rq","BQ","RQ","spaces","MAX_SCORE","SEARCH_MARGIN","L","AI_E","H","AI_tp","boardTable","count","add","pull","Killer","origins","callBack","tpHits","searched","timeLimit","gotMove","timeout","Date","now","forMoves","pv","callback","inStalemate","inCheck","getPieces","pieces","new","takenPiece","newPieces","assign_default","endgame","insufficientMaterial","alphaBeta","depth","alpha","beta","root","stalemate","entry","fail","handleMove","nextScore","nullMove","mtdf","guess","bound","lower","upper","f","AI","_ref","asyncToGenerator_default","regenerator_default","mark","_callee","history","stopReason","deepestEntry","returnVal","time","maxDepth","logs","betweenDepths","wrap","_context","jackfish_Position","abrupt","stop","_x2","_x3","apply","defaultConfig","startPos","searchTime","Home_game","Engine","options","config","aiInfo","configure","setPos","fullMove","isNaN","position","constructor","valid","last","pop","inCheckMate","fiftyMoves","inThreefoldRepetition","inStaleMate","insuffMaterial","game","generator","winner","Home","components","promotion","invalidFen","validFen","invalidStartPos","watch","game.position.board","game.position.turn","setTimeout","aiMove","game.aiInfo","handler","deep","mounted","_this2","promise_default","resolve","onDragStart","onDrop","target","createBoard","$refs","ontouchmove","event","preventDefault","methods","console","log","$","window","height","min","marginLeft","marginRight","chessboard_default","draggable","destroyBoard","destroy","handlePromotion","cancel","undoMove","restart","setStartPos","resetStartPos","setTime","components_Home","_m","_v","_e","ref","touch-action","visibility","type","directives","rawName","expression","domProps","input","composing","$set","_s","href","role","src_components_Home","Home_normalizeComponent","vue_esm","use","vue_router_esm","router","routes","path","component","jquery","jquery_default","productionTip","App","template","./bB.png","./bK.png","./bN.png","./bP.png","./bQ.png","./bR.png","./wB.png","./wK.png","./wN.png","./wP.png","./wQ.png","./wR.png","webpackAsyncContext","req","ids","Promise","reject","Object","module","exports"],"mappings":"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","file":"static/js/app.f770537593a01dbe5fc9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-09145ec6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-09145ec6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-09145ec6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 10px;\n  width: 100%;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","/**\n * Type and constants declarations.\n * @flow\n */\n\nexport const WHITE = 0;\nexport const BLACK = 1;\nexport const PIECES = [\n  'P', 'N', 'B', 'R', 'Q', 'K',\n  'p', 'n', 'b', 'r', 'q', 'k'\n];\n\nexport type Color = 0 | 1;\n// ' ' means no piece\nexport type Piece = 'P' | 'N' | 'B' | 'R' | 'Q' | 'K' |\n                    'p' | 'n' | 'b' | 'r' | 'q' | 'k';\n// [white, black], piece objects may be any order\n// must have no empty elements\nexport type Board = Array<Piece | null>;\n\nexport type Move = [number, number]; // [from, to]\nexport type CR = [boolean, boolean]; // castling rights [queenside, kingside]\n\nexport type Hash = [number, number];\nexport type History = Array<{fen: string, move: Move}>;\n\n// used for testing\nexport type PieceObj = {| pos: number, piece: Piece |};\nexport type Pieces = Array<PieceObj>;\n\n\n\n// WEBPACK FOOTER //\n// ./src/jackfish/declarations.js","<template>\n  <div class=\"promotion\" :style=\"{\n    left: offset + 'px',\n    width: width + 'px',\n  }\">\n    <img v-for=\"(img, piece) in urls\" :key=\"img\"\n      :src=\"img\" @click=\"$emit('done', piece)\"\n      :style=\"{ width: width + 'px', }\"\n    >\n  </div>\n</template>\n\n<script>\nimport { WHITE } from '@/jackfish/declarations';\n\n// piece img urls\nconst imgs = {\n  white: {\n    Q: 'wQ',\n    N: 'wN',\n    R: 'wR',\n    B: 'wB',\n  },\n  black: {\n    q: 'bQ',\n    n: 'bN',\n    r: 'bR',\n    b: 'bB',\n  }\n};\n\nfor (const key in imgs.white) {\n  import('../assets/img/chesspieces/wikipedia/' + imgs.white[key] + '.png').then(val => {\n    imgs.white[key] = val;\n  })\n}\nfor (const key in imgs.black) {\n  import('../assets/img/chesspieces/wikipedia/' + imgs.black[key] + '.png').then(val => {\n    imgs.black[key] = val;\n  })\n}\n\nexport default {\n  name: 'Promotion',\n  data() {\n    return {\n    };\n  },\n  props: ['pos', 'color', 'board'],\n  computed: {\n    file() {\n      return this.pos % 8; // 0 - 7\n    },\n    // piece img urls\n    urls() {\n      if (this.color === WHITE) return imgs.white;\n      else return imgs.black;\n    },\n    width() {\n      return this.board.offsetWidth / 8;\n    },\n    offset() {\n      return this.board.getBoundingClientRect().x +\n        (this.file - 1) * this.width;\n    }\n  },\n};\n</script>\n\n<style scoped>\n.promotion {\n  position: absolute;\n  background-color: white;\n  box-shadow: 1px 1px 5px;\n  z-index: 100;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Promotion.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"promotion\",style:({\n  left: _vm.offset + 'px',\n  width: _vm.width + 'px',\n})},_vm._l((_vm.urls),function(img,piece){return _c('img',{key:img,style:({ width: _vm.width + 'px', }),attrs:{\"src\":img},on:{\"click\":function($event){_vm.$emit('done', piece)}}})}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-46a32d55\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Promotion.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-46a32d55\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Promotion.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Promotion.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Promotion.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-46a32d55\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Promotion.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-46a32d55\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Promotion.vue\n// module id = null\n// module chunks = ","/**\n * Helper functions.\n * @flow\n */\n\nimport { WHITE, BLACK } from './declarations';\nimport type { Piece, Color, Board } from './declarations';\n\nexport function isWhite(piece: Piece): boolean {\n  return piece.charAt(0) === piece.charAt(0).toUpperCase();\n}\n\nexport function isColor(piece: Piece, color: Color): boolean {\n  return color === WHITE ? isWhite(piece) : !isWhite(piece);\n}\n\nexport function sameColor(p1: Piece, p2: Piece): boolean {\n  return isWhite(p1) === isWhite(p2);\n}\n\n// Returns the other color.\nexport function next(c: Color): Color {\n  return c === WHITE ? BLACK : WHITE;\n}\n\nexport function rowDif(p1: number, p2: number): number {\n  return Math.abs(Math.floor(p1 / 8) - Math.floor(p2 / 8));\n}\n\nexport function colDif(p1: number, p2: number): number {\n  return Math.abs(p1 % 8 - p2 % 8);\n}\n\nexport function rank(p: number): number {\n  return 8 - Math.floor(p / 8)\n}\n\n/**\n * Parses a position on form 'f5'. If it's already a number, returns the\n * number.\n * @return The corresponding number, or NaN if the string was invalid.\n */\nexport function parse(s: string | number) {\n  if (typeof s === 'number') return s;\n  if (s.length !== 2) return NaN;\n\n  s = s.toLowerCase();\n  const file = s.charCodeAt(0); // char representing file\n  const rank = s.charCodeAt(1); // char representing rank\n  const a = 'a'.charCodeAt(0);\n  const h = 'h'.charCodeAt(0);\n  if (!(file >= a && file <= h && rank >= 49 && rank <= 56)) {\n    return NaN;\n  }\n\n  // 97 is ascii for 'a' and 49 for '1'\n  return file - 97 + 56 - (rank - 49) * 8;\n}\n\n/**\n * Parses a position on number form to from 'f5'.\n * Assumes pos >= 0 && pos <= 63.\n * @return The string, or null if the number was invalid.\n */\nexport function squareToString(pos: number): string {\n  const file: string = String.fromCharCode(pos % 8 + 97);\n  const r: string = rank(pos).toString();\n  return file.concat(r);\n}\n\nexport function equalBoards (b1: Board, b2: Board) {\n  for (let i = 0; i < 64; i++) {\n    if (b1[i] !== b2[i]) return false;\n  }\n  return true;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/jackfish/helpers.js","/**\n * Evaluation of a position.\n * @flow\n */\n\nimport { isWhite } from './helpers';\n\nimport type { Board, Piece } from './declarations';\n\n// Piece values.\n// King value is set to a very high value to easily detect when king is taken,\n// and thereby detecting checkmate, and to always avoid it if possible.\nexport const PIECE = { P: 100, N: 320, B: 330, R: 500, Q: 900, K: 30000 };\n\n// Piece-square tables.\n// Index is index of position on the board for white, and for the board\n// flipped for black.\n// Taken from https://chessprogramming.wikispaces.com/Simplified%20evaluation%20function\n\n/* eslint-disable */\nexport const pstRaw = {\n  // pawn\n  P: [\n     0,  0,  0,  0,  0,  0,  0,  0,\n    50, 50, 50, 50, 50, 50, 50, 50,\n    10, 10, 20, 30, 30, 20, 10, 10,\n     5,  5, 10, 25, 25, 10,  5,  5,\n     0,  0,  0, 20, 20,  0,  0,  0,\n     5, -5,-10,  0,  0,-10, -5,  5,\n     5, 10, 10,-20,-20, 10, 10,  5,\n     0,  0,  0,  0,  0,  0,  0,  0\n  ],\n  // knight\n  N: [\n    -50,-40,-30,-30,-30,-30,-40,-50,\n    -40,-20,  0,  0,  0,  0,-20,-40,\n    -30,  0, 10, 15, 15, 10,  0,-30,\n    -30,  5, 15, 20, 20, 15,  5,-30,\n    -30,  0, 15, 20, 20, 15,  0,-30,\n    -30,  5, 10, 15, 15, 10,  5,-30,\n    -40,-20,  0,  5,  5,  0,-20,-40,\n    -50,-40,-30,-30,-30,-30,-40,-50,\n  ],\n  // bishop\n  B: [\n    -20,-10,-10,-10,-10,-10,-10,-20,\n    -10,  0,  0,  0,  0,  0,  0,-10,\n    -10,  0,  5, 10, 10,  5,  0,-10,\n    -10,  5,  5, 10, 10,  5,  5,-10,\n    -10,  0, 10, 10, 10, 10,  0,-10,\n    -10, 10, 10, 10, 10, 10, 10,-10,\n    -10,  5,  0,  0,  0,  0,  5,-10,\n    -20,-10,-10,-10,-10,-10,-10,-20,\n  ],\n  // rook\n  R: [\n     0,  0,  0,  0,  0,  0,  0,  0,\n     5, 10, 10, 10, 10, 10, 10,  5,\n    -5,  0,  0,  0,  0,  0,  0, -5,\n    -5,  0,  0,  0,  0,  0,  0, -5,\n    -5,  0,  0,  0,  0,  0,  0, -5,\n    -5,  0,  0,  0,  0,  0,  0, -5,\n    -5,  0,  0,  0,  0,  0,  0, -5,\n     0,  0,  0,  5,  5,  0,  0,  0,\n  ],\n  // queen\n  Q: [\n    -20,-10,-10, -5, -5,-10,-10,-20,\n    -10,  0,  0,  0,  0,  0,  0,-10,\n    -10,  0,  5,  5,  5,  5,  0,-10,\n     -5,  0,  5,  5,  5,  5,  0, -5,\n      0,  0,  5,  5,  5,  5,  0, -5,\n    -10,  5,  5,  5,  5,  5,  0,-10,\n    -10,  0,  5,  0,  0,  0,  0,-10,\n    -20,-10,-10, -5, -5,-10,-10,-20,\n  ],\n  // king\n  K: [\n    -30,-40,-40,-50,-50,-40,-40,-30,\n    -30,-40,-40,-50,-50,-40,-40,-30,\n    -30,-40,-40,-50,-50,-40,-40,-30,\n    -30,-40,-40,-50,-50,-40,-40,-30,\n    -20,-30,-30,-40,-40,-30,-30,-20,\n    -10,-20,-20,-20,-20,-20,-20,-10,\n     20, 20,  0,  0,  0,  0, 20, 20,\n     20, 30, 10,  0,  0, 10, 30, 20\n  ]\n};\n/* eslint-enable */\n\n// Join psts with piece values into a final pst, and add mirrored tables\n// for black pieces\ntype Pst = {\n  [piece: Piece]: Array<number>\n};\n\nexport const pst: Pst = {};\nfor (const key in pstRaw) {\n  const bKey: Piece = (key.toLowerCase(): any); // corresponding black piece key\n  pst[(key: any)] = [];\n  pst[bKey] = [];\n  pstRaw[key].forEach((e, i) => {\n    pst[(key: any)].push(e + PIECE[key])\n    pst[bKey][56 - i + 2 * (i % 8)] = e + PIECE[key];\n  });\n}\n\n/**\n * Gives the board value for white (negate for black's).\n */\nexport default function evaluate(board: Board): number {\n  let value = 0;\n  for (let i = 0; i < 64; i++) {\n    if (board[i]) {\n      const piece: Piece = board[i];\n      if (isWhite(piece)) value += pst[piece][i];\n      else value -= pst[piece][i];\n    }\n  }\n  return value;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/jackfish/evaluation.js","/**\n * Transposition table stuff\n * @flow\n */\n\nimport Position from './Position';\nimport { PIECES, WHITE } from './declarations';\nimport type { Piece } from './declarations';\n\nconst Random = require('random-js');\n// 27102 is just a random number\nconst random = new Random(Random.engines.mt19937().seed(27102));\n\n/**\n * Zobrist hashing for positions. Hashed in two parts, low and high.\n *\n * Low is used as key in Map and high is stored at the key\n * together with a value for that position. This is because of\n * javascript's number type that can only store integers up to 52 signed\n * bits and the fact that bitwise operators in javascript only operates on\n * 32 bit signed integers.\n */\n\n// get 2 random 32 bit integers\nexport function rand() {\n  return random.integer(-Math.pow(2, 31), Math.pow(2, 31) - 1);\n}\n\n// Makes a hash tuple with low and high\nexport const randoms = () => [rand(), rand()];\n\n// initialize hashes array\ntype Hashes = {\n  [index: Piece | 'wc' | 'bc' | 'turn' | 'epFile' | 'kp']: any\n}\nconst hashes: Hashes = {};\nPIECES.forEach(p => {\n  hashes[p] = [];\n  for (let i = 0; i < 64; i++) {\n    hashes[p].push(randoms()); // [low, high]\n  }\n\n  hashes.turn = randoms(); // apply when white's turn\n\n  hashes.wc = [randoms(), randoms()]; // [queenside, kingside]\n  hashes.bc = [randoms(), randoms()];\n\n  hashes.epFile = [];\n  for (let i = 0; i < 8; i++) {\n    hashes.epFile.push(randoms()); // [A, B, C...]\n  }\n\n  hashes.kp = [];\n  const kps = [3, 5, 59, 61];\n  for (let i = 0; i < kps.length; i++) {\n    hashes.kp[kps[i]] = randoms();\n  }\n});\n\nexport { hashes };\n\n// Hash the position, returning hash as [low, high]\nexport function hash(pos: Position): [number, number] {\n  const myHash = [0, 0]; // low, high\n\n  // apply [low, high] to low and high\n  const applyHashes = (hashParam: [number, number]) => {\n    myHash[0] ^= hashParam[0];\n    myHash[1] ^= hashParam[1];\n  }\n\n  if (pos.turn === WHITE) applyHashes(hashes.turn);\n  for (let i = 0; i < 64; i++) {\n    const p = pos.board[i];\n    if (p) applyHashes(hashes[p][i]);\n  }\n  if (pos.wc[0]) applyHashes(hashes.wc[0]);\n  if (pos.wc[1]) applyHashes(hashes.wc[1]);\n  if (pos.bc[0]) applyHashes(hashes.bc[0]);\n  if (pos.bc[1]) applyHashes(hashes.bc[1]);\n  if (pos.ep !== -1) applyHashes(hashes.epFile[pos.ep % 8]);\n  if (pos.kp !== -1) applyHashes(hashes.kp[pos.kp]);\n\n  return myHash;\n}\n\n/** Transposition table */\n\n// LRU cache, first in first out, size > 0\nexport class Lru<Entry = any> {\n  map: Map<number, Array<Entry>> = new Map();\n  // max number of keys in map (not max number of entries since there can be\n  // many entries in an array at one key)\n  maxSize: number;\n\n  constructor(maxSize: number) {\n    this.maxSize = maxSize;\n  }\n\n  size() {\n    return this.map.size;\n  }\n\n  /** Returns entry at hash, or undefined if there is none. */\n  get(hash: [number, number]): ?Entry {\n    const low = hash[0];\n    const high = hash[1];\n    const arr = this.map.get(low);\n\n    if (arr !== undefined) {\n      // set to last recently used\n      this.map.delete(low);\n      this.map.set(low, arr);\n\n      return arr[high];\n    }\n    return undefined;\n  }\n\n  /** Add an entry to the cache, returns the added entry. */\n  add(hash: [number, number], val: Entry): Entry {\n    const low = hash[0];\n    const high = hash[1];\n    const arr = this.map.get(low);\n\n    if (arr !== undefined) {\n      arr[high] = val;\n      this.map.delete(low);\n      this.map.set(low, arr);\n    } else {\n      const arr = [];\n      arr[high] = val;\n      this.map.set(low, arr);\n    }\n\n    if (this.map.size > this.maxSize) {\n      // $FlowFixMe\n      this.map.delete(this.map.keys().next().value);\n    }\n\n    return val;\n  }\n\n  clear() {\n    this.map.clear();\n  }\n\n  setSize(maxSize: number) {\n    this.maxSize = maxSize;\n  }\n}\n\n// A simpler clear-when-full cache,\n// has a max size but just resets when it's reached\nexport class Cwf<Entry = any> {\n  cache: Array<Array<Entry>> = [];\n  maxSize: number;\n  currentSize: number = 0;\n\n  constructor(size: number) {\n    this.maxSize = size;\n  }\n\n  size(): number {\n    return this.currentSize;\n  }\n  setSize(size: number): void {\n    this.maxSize = size;\n  }\n\n  /** Returns entry at hash or undefined if there is none. */\n  get(hash: [number, number]): ?Entry {\n    const low = hash[0];\n    const high = hash[1];\n\n    if (this.cache[low] !== undefined) return this.cache[low][high];\n    else return undefined;\n  }\n\n  /** Add an entry to the cache. Assumes it does not already exist */\n  add(hash: [number, number], val: Entry): Entry {\n    const low = hash[0];\n    const high = hash[1];\n\n    // if passed size limit, clear cache and start over\n    // (might clear one too early)\n    if (this.currentSize === this.maxSize) {\n      this.cache = [];\n      this.currentSize = 0;\n    }\n\n    if (this.cache[low] !== undefined) {\n      if (this.cache[low][high] === undefined) this.currentSize++;\n      this.cache[low][high] = val;\n    } else {\n      this.cache[low] = [];\n      this.cache[low][high] = val;\n      this.currentSize++;\n    }\n    return val;\n  }\n  clear() {\n    this.cache = [];\n    this.currentSize = 0;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/jackfish/tp.js","/**\n * Position module.\n * @flow\n */\n\nimport { isColor, sameColor, next, colDif, rowDif,\n  parse, squareToString } from './helpers';\nimport evaluate, { pst } from './evaluation';\nimport { WHITE, BLACK } from './declarations';\nimport { hash, hashes } from './tp';\n\nimport type { Color, Board, Piece, Move, CR, Hash } from './declarations';\n\n// some squares\nexport const A1 = 56;\nexport const H1 = 63;\nexport const A8 = 0;\nexport const H8 = 7;\n\n// directions\nconst N = -8; // north\nconst E = 1; // east\nconst S = 8; // south\nconst W = -1; // west\n\n/* eslint-disable */\n// possible steps for different pieces\nconst steps = {};\nsteps.P = [N, 2*N, N+W, N+E]; // p[0] = white, p[1] = black\nsteps.N = [2*N+W, 2*N+E, 2*W+N, 2*W+S, 2*S+E, 2*S+W, 2*E+N, 2*E+S];\nsteps.B = [N+W, N+E, S+W, S+E];\nsteps.R = [N, E, S, W];\nsteps.Q = [N, N+E, E, S+E, S, S+W, W, N+W];\nsteps.K = [N, N+E, E, S+E, S, S+W, W, N+W];\n\n// add for black pieces\nfor (const key in steps) {\n  steps[key.toLowerCase()] = steps[key];\n}\n// black pawns can only move opposite direction\nsteps.p = [];\nfor (let i = 0; i < steps.P.length; i++) steps.p.push(-steps.P[i]);\n\n/* eslint-enable */\n\n/**\n * A complete position of a chess game.\n */\nexport default class Position {\n  board: Board;\n  turn: Color;\n  wc: CR;\n  bc: CR;\n  ep: number;\n  kp: number;\n  halfMoveClock: number;\n\n  score: number;\n  hash: Hash;\n  boardHash: Hash;\n\n  prev: Position | void;\n\n  constructor(\n    boardOrFen: Board | string,\n    turn: Color = WHITE,\n    wc: CR = [true, true], // white castling rights\n    bc: CR = [true, true], // black...\n    ep: number = -1, // -1 if there is none\n    kp: number = -1, // -1 if there is none\n    halfMoveClock: number = 0, // defaults to 0\n\n    // Score for color to move. If none is provided, calculates it from scratch.\n    score?: number,\n    myHash?: Hash,\n    boardHash?: Hash,\n  ) {\n    // if we get a fen string: assumes it's a valid fen string\n    if (typeof boardOrFen === 'string') {\n      const fen = boardOrFen;\n      this.board = [];\n      this.wc = [false, false];\n      this.bc = [false, false];\n      this.ep = -1;\n      this.kp = -1;\n\n      const subs = fen.trim().split(/ +/); // get substrings\n\n      let pos = 0; // current board position (square)\n      let i = 0; // index of string\n      // The board array is indexed the same way as FEN notation.\n      while (i < subs[0].length) {\n        let c = subs[0].charAt(i); // currently parsed char\n        const num = parseInt(c);\n        if (Number.isInteger(num)) {\n          for (let j = 0; j < num; j++) {\n            this.board[pos + j] = null;\n          }\n          pos += num;\n        } else {\n          // Cast to piece when we know it is one.\n          c = ((c: any): Piece)\n          this.board[pos] = c;\n          pos++;\n        }\n        i++;\n        if (pos >= 64) break; // should not be able to be bigger than 64\n        else if (pos % 8 === 0) {\n          i++;\n        }\n      }\n\n      switch (subs[1]) {\n        case 'w': this.turn = WHITE; break;\n        case 'b': this.turn = BLACK; break;\n        default: throw new Error('Invalid fen string');\n      }\n\n      if (subs[2] !== '-') {\n        const used = [];\n        for (let i = 0; i < subs[2].length; i++) {\n          const c = subs[2].charAt(i);\n          switch (c) {\n            case 'Q': this.wc[0] = true; break;\n            case 'K': this.wc[1] = true; break;\n            case 'q': this.bc[1] = true; break;\n            case 'k': this.bc[0] = true; break;\n            default: throw new Error('Invalid fen string');\n          }\n          used.push(c);\n        }\n      }\n\n      if (subs[3] !== '-') this.ep = parse(subs[3]);\n\n      this.halfMoveClock = parseInt(subs[4]);\n    } else {\n      // else just copy all the parameters to fields.\n      this.board = boardOrFen;\n      this.turn = turn;\n      this.wc = wc;\n      this.bc = bc;\n      this.ep = ep;\n      this.kp = kp;\n      this.halfMoveClock = halfMoveClock;\n    }\n\n    if (score !== undefined) this.score = score;\n    else {\n      this.score = this.turn === WHITE\n        ? evaluate(this.board) : -evaluate(this.board);\n    }\n\n    if (myHash !== undefined) this.hash = myHash;\n    else this.hash = hash((this: any));\n    if (boardHash !== undefined) this.boardHash = boardHash;\n    else this.boardHash = this.hashBoard();\n  }\n\n  /**\n   * Returns possible moves for color, including moves that result in king-take\n   * and castles invalid because of threatened squares or check. For pawn\n   * promotions, it will only generate one move without the promotion piece.\n   * You must later add the promotion piece for the move to be valid.\n   * @param [color=this.turn] The color to look for moves for.\n   */\n  *genMoves(color?: Color = this.turn): Generator<Move, void, void> {\n    for (let i = 0; i < this.board.length; i++) {\n      const piece = this.board[i];\n      if (piece === null || !isColor(piece, color)) continue;\n\n      // check for castling\n      if (piece.toUpperCase() === 'K') {\n        const rights = color === WHITE ? this.wc : this.bc;\n        if (rights[0] && this.board[i - 1] === null &&\n          this.board[i - 2] === null) yield ([i, i - 2]: Move);\n        if (rights[1] && this.board[i + 1] === null &&\n          this.board[i + 2] === null) yield ([i, i + 2]: Move);\n      }\n\n      for (let j = 0; j < steps[piece].length; j++) {\n        const step = steps[piece][j];\n        // if step is two steps, it must be a pawn\n        if ((step === 2 * N && i < A1 - 8) ||\n          (step === 2 * S && i > H8 + 8)) continue;\n\n        let t = i + step; // target square\n\n        // keep within bounds of board\n        while (t >= 0 && t <= 63 && colDif(t, t - step) < 6) {\n          const tp = this.board[t]; // target piece (or null)\n\n          // pawns get special treatment\n          if (piece.toUpperCase() === 'P') {\n            if (colDif(i, t) === 0 && tp !== null) break;\n            if (rowDif(i, t) === 2 && this.board[i + step / 2] !== null) break;\n            if (colDif(i, t) === 1 && t !== this.ep &&\n              (tp === null || sameColor(tp, piece))) break;\n          } else if (tp !== null) {\n            if (!sameColor(tp, piece)) {\n              yield ([i, t]: Move);\n            }\n            break;\n          }\n\n          yield ([i, t]: Move);\n          if ('KkNnPp'.includes(piece)) break;\n          t += step;\n        }\n      }\n    }\n  }\n\n  /**\n   * Makes a nullmove, i.e. switches turn, resets en passant and negates score.\n   */\n  nullMove(): Position {\n    // copying board with slice, works because it's shallow\n    const ret = new Position(this.board.slice(), next(this.turn), this.wc, this.bc,\n      -1, -1, this.halfMoveClock + 1,\n      -this.score, this.hashNullMove(), this.boardHash);\n    ret.prev = this;\n    return ret;\n  }\n\n  /**\n   * Makes the move and returns the new position. Does not alter this\n   * position. Assumes that the move is valid.\n   * @param move  The move\n   * @param promo If there is a promotion of a pawn, this is the piece to\n   *              replace it with. Default to Queen.\n   * @param score Optional to pass score to avoid calculating it twice\n   * @return      The new position.\n   */\n  move(move: Move, promo?: Piece, score?: number): Position {\n    const o = move[0]; // origin square\n    const t = move[1]; // target square\n    // it's assumed that there is a piece at the origin position,\n    // toUpperCase() makes it generic because color doesn't matter\n    const op: Piece = (this.board[o]: any);\n    if (!promo) {\n      if (this.turn === WHITE) promo = 'Q'; // default promotion piece\n      else promo = 'q';\n    }\n\n    const board = this.board.slice(); // copy board\n    let wc: CR = (this.wc.slice(): any); // copy castling rights\n    let bc: CR = (this.bc.slice(): any);\n    let ep = -1; // default\n    let kp = -1;\n    // negate score so it's for the other side\n    if (score === undefined) score = -(this.score + this.value(move, promo));\n\n    let halfMoveClock;\n    // will also be reset at pawn take\n    if (board[t]) halfMoveClock = 0;\n    else halfMoveClock = this.halfMoveClock + 1;\n\n    // make the move\n    board[t] = board[o];\n    board[o] = null;\n\n    // castle\n    if (op === 'K') {\n      wc = [false, false];\n      if (Math.abs(t - o) === 2) {\n        kp = (o + t) / 2;\n        board[kp] = 'R';\n        board[t < o ? A1 : H1] = null;\n      }\n    } else if (op === 'k') {\n      bc = [false, false];\n      if (Math.abs(t - o) === 2) {\n        kp = (o + t) / 2;\n        board[kp] = 'r';\n        board[t < o ? A8 : H8] = null;\n      }\n    } else {\n      // set castling rights\n      const helper = (p) => {\n        switch (p) {\n          case A1: wc[0] = false; break;\n          case H1: wc[1] = false; break;\n          case A8: bc[0] = false; break;\n          case H8: bc[1] = false; break;\n          default: break;\n        }\n      }\n      helper(o);\n      helper(t);\n\n      // double move, en passant and pawn promotion\n      if (op === 'P') { // white\n        halfMoveClock = 0;\n\n        if (t - o === -16) ep = (t + o) / 2;\n        else if (t === this.ep) board[t + 8] = null;\n        else if (t <= H8) board[t] = (promo: any); // assume it's defined\n      } else if (op === 'p') { // black\n        halfMoveClock = 0;\n\n        if (t - o === 16) ep = (t + o) / 2;\n        else if (t === this.ep) board[t - 8] = null;\n        else if (t >= A1) board[t] = (promo: any);\n      }\n    }\n\n    const newHashes = this.hashMove(move, promo)\n\n    const ret = new Position(board, next(this.turn), wc, bc, ep, kp,\n      halfMoveClock, score, newHashes[0], newHashes[1]);\n    ret.prev = this;\n    return ret;\n  }\n\n  /**\n   * Returns the value (change of position score) of a move. Assumes it's valid.\n   */\n  value(move: Move, promo?: Piece): number {\n    const o = move[0];\n    const t = move[1];\n    const op: Piece = (this.board[o]: any);\n    let tp: Piece = (this.board[t]: any);\n\n    // invalid castling detection, returns MAX_SAFE_INTEGER if last move's\n    // castle was invalid (if king is threatened on any of the squares\n    // it moves over)\n    if (this.kp !== -1 && Math.abs(t - this.kp) < 2) return 30000;\n\n    let score = pst[op][t] - pst[op][o];\n    // capture\n    if (tp) score += pst[tp][t];\n\n    // castling\n    if (op === 'K' && Math.abs(t - o) === 2) {\n      score += pst['R'][(t + o) / 2];\n      score -= t < o ? pst['R'][A1] : pst['R'][H1];\n    } else if (op === 'k' && Math.abs(t - o) === 2) {\n      score += pst['r'][(t + o) / 2];\n      score -= t < o ? pst['r'][A8] : pst['r'][H8];\n    }\n\n    // pawn stuff\n    if (op === 'P') {\n      if (t <= H8) score += pst[promo || 'Q'][t] - pst[op][t];\n      else if (t === this.ep) {\n        tp = (this.board[t + 8]: any);\n        score += pst[tp][t + 8];\n      }\n    } else if (op === 'p') {\n      if (t >= A1) score += pst[promo || 'q'][t] - pst[op][t];\n      else if (t === this.ep) {\n        tp = (this.board[t - 8]: any);\n        score += pst[tp][t - 8];\n      }\n    }\n    return score;\n  }\n\n  /** Returns the resulting hashes ([posHash, boardHash]) from a move\n      (position hash and board hash). Assumes it's a valid move. */\n  hashMove(move: Move, promo?: Piece): [Hash, Hash] {\n    const o = move[0];\n    const t = move[1];\n    const op: Piece = (this.board[o]: any);\n    let tp = this.board[t];\n\n    const newHash: Hash = (this.hash.slice(): any); // copy\n    const newBoardHash: Hash = (this.boardHash.slice(): any);\n\n    const applyHash = (hashParam: Hash) => {\n      newHash[0] ^= hashParam[0];\n      newHash[1] ^= hashParam[1];\n    }\n    const applyBoardHash = (hashParam: Hash) => {\n      newBoardHash[0] ^= hashParam[0];\n      newBoardHash[1] ^= hashParam[1];\n    }\n\n    // switch turn\n    applyHash(hashes.turn);\n\n    // if this position has an en passant or king passant, unhash it\n    if (this.ep !== -1) applyHash(hashes.epFile[this.ep % 8]);\n    if (this.kp !== -1) applyHash(hashes.kp[this.kp]);\n\n    applyHash(hashes[op][o]);\n    applyHash(hashes[op][t]);\n    applyBoardHash(hashes[op][o]);\n    applyBoardHash(hashes[op][t]);\n    if (tp) {\n      applyHash(hashes[tp][t]);\n      applyBoardHash(hashes[tp][t]);\n    }\n\n    // castling\n    if (op === 'K' && Math.abs(t - o) === 2) {\n      const kp = (t + o) / 2;\n      applyHash(hashes.wc[0]);\n      applyHash(hashes.wc[1]);\n      applyHash(hashes.kp[kp]);\n\n      applyHash(hashes['R'][kp]);\n      applyBoardHash(hashes['R'][kp]);\n      if (t < o) {\n        applyHash(hashes['R'][A1]);\n        applyBoardHash(hashes['R'][A1]);\n      } else {\n        applyHash(hashes['R'][H1]);\n        applyBoardHash(hashes['R'][H1]);\n      }\n    } else if (op === 'k' && Math.abs(t - o) === 2) {\n      const kp = (t + o) / 2;\n      applyHash(hashes.bc[0]);\n      applyHash(hashes.bc[1]);\n      applyHash(hashes.kp[kp]);\n\n      applyHash(hashes['r'][kp]);\n      applyBoardHash(hashes['r'][kp]);\n      if (t < o) {\n        applyHash(hashes['r'][A8]);\n        applyBoardHash(hashes['r'][A8]);\n      } else {\n        applyHash(hashes['r'][H8]);\n        applyBoardHash(hashes['r'][H8]);\n      }\n    } else {\n      const helper = (p) => {\n        switch (p) {\n          case A1: if (this.wc[0]) applyHash(hashes.wc[0]); break;\n          case H1: if (this.wc[1]) applyHash(hashes.wc[1]); break;\n          case A8: if (this.bc[0]) applyHash(hashes.bc[0]); break;\n          case H8: if (this.bc[1]) applyHash(hashes.bc[1]); break;\n          default: break;\n        }\n      }\n      helper(o);\n      helper(t);\n\n      // pawn stuff\n      if (op === 'P') {\n        // hash en passant\n        if (t - o === -16) applyHash(hashes.epFile[((t + o) / 2) % 8]);\n        else if (t === this.ep) {\n          tp = (this.board[t + 8]: any);\n          applyHash(hashes[tp][t + 8]);\n          applyBoardHash(hashes[tp][t + 8]);\n        } else if (t <= H8) {\n          applyHash(hashes[op][t]);\n          applyHash(hashes[promo || 'Q'][t]);\n          applyBoardHash(hashes[op][t]);\n          applyBoardHash(hashes[promo || 'Q'][t]);\n        }\n      } else if (op === 'p') {\n        if (t - o === 16) applyHash(hashes.epFile[((t + o) / 2) % 8]);\n        else if (t === this.ep) {\n          tp = (this.board[t - 8]: any);\n          applyHash(hashes[tp][t - 8]);\n          applyBoardHash(hashes[tp][t - 8]);\n        } else if (t >= A1) {\n          applyHash(hashes[op][t]);\n          applyHash(hashes[promo || 'q'][t]);\n          applyBoardHash(hashes[op][t]);\n          applyBoardHash(hashes[promo || 'q'][t]);\n        }\n      }\n    }\n    return [newHash, newBoardHash];\n  }\n\n  hashNullMove(): Hash {\n    const newHash: Hash = (this.hash.slice(): any); // copy old hash\n    const applyHash = (hashParam: Hash) => {\n      newHash[0] ^= hashParam[0];\n      newHash[1] ^= hashParam[1];\n    }\n\n    // if this position has an en passant or king passant, unhash it\n    if (this.ep !== -1) applyHash(hashes.epFile[this.ep % 8]);\n    if (this.kp !== -1) applyHash(hashes.kp[this.kp]);\n\n    applyHash(hashes.turn);\n\n    return newHash;\n  }\n\n  hashBoard(): Hash {\n    const hash: Hash = [0, 0];\n\n    for (let i = 0; i < 64; i++) {\n      const p = this.board[i];\n      if (p) {\n        // apply hash\n        hash[0] ^= hashes[p][i][0];\n        hash[1] ^= hashes[p][i][1];\n      }\n    }\n    return hash;\n  }\n\n  /**\n   * Checks if a move is valid.\n   */\n  valid(move: Move): boolean {\n    const moves = this.genMoves(); // generator\n    let el = moves.next();\n    while (!el.done) {\n      if (move[0] === el.value[0] && move[1] === el.value[1]) {\n        const nextPos = this.move(move);\n        const nextMoves = nextPos.genMoves();\n        let nextEl = nextMoves.next();\n        while (!nextEl.done) {\n          // check if the move was an invalid castle\n          if (nextPos.kp !== -1 && Math.abs(nextEl.value[1] - nextPos.kp) < 2) {\n            return false;\n          }\n          // check if the move results in king being taken\n          const tp = nextPos.board[nextEl.value[1]];\n          if (tp !== null && 'Kk'.includes(tp)) return false;\n          nextEl = nextMoves.next();\n        }\n        // if it passed all the tests, return true\n        return true;\n      }\n      el = moves.next();\n    }\n    return false;\n  }\n\n  /** Returns true if color is in check. If square is provided,\n      checks if that square is threatened. */\n  inCheck(color: Color = this.turn): boolean {\n    let mySteps; // steps for different pieces\n    let pawnSteps;\n    let pawn;\n    let kingSquare;\n    if (color === WHITE) {\n      // square position of king\n      kingSquare = this.board.indexOf('K');\n\n      mySteps = {\n        'bq': steps.B,\n        'rq': steps.R,\n        'n': steps.N,\n      };\n      pawn = 'p';\n      pawnSteps = [S + W, S + E];\n    } else {\n      kingSquare = this.board.indexOf('k');\n\n      mySteps = {\n        'BQ': steps.B,\n        'RQ': steps.R,\n        'N': steps.N,\n      }\n      pawn = 'P';\n      pawnSteps = [N + W, N + E];\n    }\n\n    // search all steps for all pieces\n    for (const key in mySteps) {\n      for (let i = 0; i < mySteps[key].length; i++) {\n        let t = kingSquare + mySteps[key][i];\n        while (t >= 0 && t <= 63 && colDif(t, t - mySteps[key][i]) < 6) {\n          if (this.board[t]) {\n            if (key.includes(this.board[t])) return true;\n            // pawns get special treatment\n            if (this.board[t] === pawn &&\n              (kingSquare === t + pawnSteps[0] ||\n              kingSquare === t + pawnSteps[1])) {\n              return true;\n            }\n            break;\n          }\n\n          if ('Nn'.includes(key)) break;\n          t += mySteps[key][i];\n        }\n      }\n    }\n    return false;\n  }\n\n  // Get fen of the position (fullMove set to 1)\n  toString() {\n    let fen = '';\n    let spaces = 0;\n    for (let i = 0; i < 64; i++) {\n      if (this.board[i] === null) spaces++;\n      else {\n        if (spaces > 0) {\n          fen += spaces;\n          spaces = 0;\n        }\n        fen += this.board[i];\n      }\n      if (i % 8 === 7) {\n        if (spaces > 0) {\n          fen += spaces;\n          spaces = 0;\n        }\n        if (i < 63) fen += '/';\n      }\n    }\n\n    fen += ' ';\n    if (this.turn === WHITE) fen += 'w';\n    else fen += 'b';\n\n    fen += ' ';\n    if (!this.wc[0] && !this.wc[1] && !this.bc[0] && !this.bc[1]) fen += '-';\n    else {\n      if (this.wc[1]) fen += 'K';\n      if (this.wc[0]) fen += 'Q';\n      if (this.bc[1]) fen += 'k';\n      if (this.bc[0]) fen += 'q';\n    }\n\n    fen += ' ';\n    if (this.ep !== -1) fen += squareToString(this.ep);\n    else fen += '-';\n\n    fen += ' ';\n    fen += this.halfMoveClock;\n\n    fen += ' ';\n    fen += 1; // fullMove\n\n    return fen;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/jackfish/Position.js","/**\n * @module AI\n * The \"AI\", or computer mover.\n * @flow\n */\n\nimport Position, { A1, H8 } from './Position';\nimport { Cwf } from './tp'\nimport { PIECE } from './evaluation';\nimport { next } from './helpers';\nimport { PIECES } from './declarations';\n\nimport type { Move, Piece, History, Hash } from './declarations';\n\n// best moves for a position in reverse order\ntype Pv = [Move, Piece | void] | void;\n\n// Constants and types.\n\n// If value of position is > this, it means previous move was invalid\nconst MAX_SCORE = 15 * PIECE.Q; // with margin\n// How much to move alpha and beta in the mtd(f) until we have failed\n// both high and low\nconst SEARCH_MARGIN = 50;\n\n// fail low, high, hit exact (between alpha and beta) or invalid position\nconst L = 'L';\nconst E = 'E';\nconst H = 'H';\n\ntype Entry = {\n  pv: Pv, // moves previously beat alpha, from worst to best\n  score: number,\n  depth: number,\n  fail: 'L' | 'E' | 'H'\n};\n\nconst tp: Cwf<Entry> = new Cwf(1e7);\nconst boardTable: any = new Cwf(1e3); // table to find repeated positions\n\n// add methods to boardTable\nboardTable.push = function(hash: Hash) {\n  let count = this.get(hash); // if this position has been visited before\n  if (count !== undefined) this.add(hash, count + 1);\n  else this.add(hash, 1);\n}\nboardTable.pull = function(hash: Hash) {\n  let count = this.get(hash); // if this position has been visited before\n  if (count !== undefined && count > 0) this.add(hash, count - 1);\n}\n\n/* eslint-disable */\n// Data structure for storing killer moves (not pawn promotions)\nclass Killer {\n  origins: { [number]: { [number]: boolean } } = {};\n  constructor() {\n    return this;\n  }\n\n  add(move: Move) {\n    if (this.origins[move[0]]) this.origins[move[0]][move[1]] = true;\n    else {\n      this.origins[move[0]] = {};\n      this.origins[move[0]][move[1]] = true;\n    }\n  }\n\n  forEach(pos, callBack: (move: Move, tp: ?Piece) => boolean) {\n    for (const o in this.origins) {\n      for (const t in this.origins[o]) {\n        // TODO: Implement pseudo valid method on Position class and use\n        // here, then if it is pseudo-valid, call callback with the move\n      }\n    }\n  }\n}\n/* eslint-enable */\n\n// Logs\nlet tpHits = 0;\nlet searched = 0; // how many positions searched\n\nlet timeLimit;\nlet gotMove = false; // must have failed high or exact once to get a move\nconst timeout = () => Date.now() > timeLimit && gotMove;\n\n// Helper functions\n\n// Calls a callback function for all moves (as arguments) generated by genMoves,\n// including all 4 promotion moves for promotions. Runs through pv moves first.\n// if callback returns true, breaks. Returns true if there were any moves\n// generated, else false.\nfunction forMoves(pos: Position, pv: Pv,\n  callback: (move: Move, promo?: Piece, tp: ?Piece) => boolean): void {\n  if (pv) {\n    const move = pv[0];\n    let tp;\n    if (move[1] === pos.ep) {\n      if (pos.board[move[0]] === 'P') tp = pos.board[pos.ep + 8];\n      else if (pos.board[move[0]] === 'p') tp = pos.board[pos.ep - 8];\n      else tp = pos.board[move[1]];\n    } else tp = pos.board[move[1]];\n\n    if (callback(pv[0], pv[1], tp)) return; // move, promo\n  }\n\n  const moves = pos.genMoves();\n  let el = moves.next();\n  if (el.done) return; // if there are no valid moves\n\n  while (!el.done) {\n    const move = el.value;\n    let tp;\n    if (move[1] === pos.ep) {\n      if (pos.board[move[0]] === 'P') tp = pos.board[pos.ep + 8];\n      else tp = pos.board[pos.ep - 8];\n    } else tp = pos.board[move[1]];\n\n    if (pos.board[move[0]] === 'P' && move[1] <= H8) {\n      const promos = 'QNRB';\n      for (let i = 0; i < promos.length; i++) {\n        if (callback(move, (promos.charAt(i): any), tp)) return;\n      }\n    } else if (pos.board[move[0]] === 'p' && move[1] >= A1) {\n      const promos = 'qnrb';\n      for (let i = 0; i < promos.length; i++) {\n        if (callback(move, (promos.charAt(i): any), tp)) return;\n      }\n    } else if (callback(move, undefined, tp)) return;\n    el = moves.next();\n  }\n}\n\n// Check if a positino is stalemate. Assumes nobody is in check.\n// Promotion piece doesn't matter.\nfunction inStalemate(pos: Position) {\n  const moves = pos.genMoves();\n  let el = moves.next();\n  while (!el.done) {\n    // don't try castling, if the castle is valid, there is also a valid\n    // king move that don't gets you in check\n    // $FlowFixMe\n    if ('Kk'.includes(pos.board[el.value[0]]) && Math.abs(el.value[1] - el.value[0]) === 2) {\n      el = moves.next();\n      continue;\n    }\n\n    // if a move didn't get your king killed\n    if (!pos.move(el.value).inCheck(pos.turn)) {\n      return false; // not stalemate\n    }\n    el = moves.next();\n  }\n  return true; // stalemate\n}\n\nexport function getPieces(pos: Position) {\n  const pieces: Object = {};\n  PIECES.forEach((e) => { pieces[e] = 0 });\n  for (let i = 0; i < 64; i++) {\n    const p = pos.board[i];\n    if (p) pieces[p]++;\n  }\n  pieces.new = function(takenPiece?: Piece) {\n    const newPieces = Object.assign({}, this);\n    if (takenPiece) newPieces[takenPiece]--;\n    return newPieces;\n  }\n  pieces.endgame = function() {\n    if (this.Q > 0) {\n      if (this.R > 0 || this.B + this.N > 1) return false;\n    }\n    if (this.q > 0) {\n      if (this.r > 0 || this.b + this.n > 1) return false;\n    }\n    return true;\n  }\n  pieces.insufficientMaterial = function() {\n    return this.Q === 0 && this.q === 0 &&\n      this.P === 0 && this.p === 0 &&\n      this.R === 0 && this.r === 0 &&\n      (this.B === 0 || (this.B === 1 && this.N === 0)) &&\n      (this.b === 0 || (this.b === 1 && this.n === 0));\n  }\n\n  return pieces;\n}\n\n// Main algorithm\n\n// generic alpha-beta algorithm, doesn't assume mtd(f) search\nfunction alphaBeta(\n  pos: Position,\n  depth: number,\n  alpha: number,\n  beta: number,\n  pieces: Object,\n  root: boolean = false): number {\n  searched++;\n  if (depth < 0) depth = 0;\n\n  // draw\n  if (pos.halfMoveClock >= 50) {\n    return 0;\n  }\n  if (boardTable.get(pos.boardHash) >= 3) {\n    return 0;\n  }\n\n  let stalemate = true; // true until proven otherwise\n  let pv: Pv; // default\n\n  // look up in tp\n  let entry: any = tp.get(pos.hash); // previous entry\n  if (entry) {\n    pv = entry.pv;\n    if (entry.depth >= depth) {\n      tpHits++;\n      switch (entry.fail) {\n        case L:\n          if (entry.score <= alpha) return alpha;\n          break;\n        case E:\n          return entry.score;\n        case H:\n          if (entry.score >= beta) return beta\n          break;\n        default: break;\n      }\n    }\n  }\n\n  // renew entry, use the previous pv as default\n  entry = (tp.add(pos.hash,\n    { pv: pv, score: alpha, depth: depth, fail: L }): Entry);\n\n  // Determine if we're in endgame.\n  // Endgame begins when any side that has a queen has one other minorpiece maximum.\n  // Disable delta pruning, change king pst and look for stalemates.\n  const endgame: boolean = pieces.endgame();\n  if (endgame && pieces.insufficientMaterial()) {\n    entry.score = 0;\n    entry.fail = E;\n    return 0;\n  }\n\n  // Callback helper\n  const handleMove = (move, promo?, score) => {\n    // if time's out\n    if (timeout()) return true;\n\n    // must be a beta cutoff since it's a null window search\n    if (score > alpha) {\n      entry.fail = H\n      stalemate = false; // my move was valid\n      entry.pv = [move, promo]; // new pv\n\n      if (score >= MAX_SCORE) alpha = MAX_SCORE;\n      else alpha = beta;\n\n      return true;\n    } else if (score > -MAX_SCORE) stalemate = false; // if my move was valid\n    return false;\n  };\n\n  // quiescence search ( 2 * PIECE.P (200 centipawns) is the margin)\n  if (depth <= 0) {\n    // null move beta cutoff\n    if (pos.score >= beta) {\n      // if no moves gets you out of check, this position will fail low\n      if (pos.inCheck()) {\n        stalemate = false;\n\n        // test all moves\n        forMoves(pos, pv, (move, promo, tp) => {\n          // tp here is target piece, not transposition table\n          const nextPos = pos.move(move, promo);\n          // if this move got rid of the check threat (if the move after\n          // can't take king)\n          if (!nextPos.inCheck(pos.turn)) {\n            boardTable.push(nextPos.boardHash);\n            const score = -alphaBeta(nextPos, 0, -beta, -alpha, pieces.new(tp));\n            boardTable.pull(nextPos.boardHash);\n            return handleMove(move, promo, score);\n          } else return false;\n        });\n      } else if (endgame && inStalemate(pos)) {\n        entry.score = 0;\n        entry.fail = E;\n        return 0;\n      } else {\n        entry.score = beta;\n        entry.fail = H;\n        return beta;\n      }\n    } else if (pos.score + PIECE.Q < alpha) {\n      if (pos.inCheck(next(pos.turn))) {\n        entry.fail = H;\n        entry.score = MAX_SCORE;\n        return MAX_SCORE; // king take or invalid castle\n      } else if (endgame && !pos.inCheck() && inStalemate(pos)) {\n        entry.score = 0;\n        entry.fail = E;\n        return 0;\n      }\n      // Might wanna try moves that check here later.\n\n      return alpha; // delta pruning\n    } else {\n      forMoves(pos, pv, (move, promo, tp) => {\n        // check if there was an invalid castle (saves time to do it here)\n        if (pos.kp !== -1 && Math.abs(pos.kp - move[1]) < 2) {\n          alpha = MAX_SCORE;\n          entry.fail = H;\n          return true;\n        }\n\n        // don't test silent moves\n        if (!pos.board[move[1]] && !(move[1] === pos.ep &&\n          'Pp'.includes((pos.board[move[0]]: any)))) return false;\n\n        const nextScore = pos.score + pos.value(move, promo);\n        // check if it's a king-take move, if it is we save a lot of time\n        if (nextScore >= MAX_SCORE) {\n          alpha = MAX_SCORE;\n          entry.fail = H;\n          return true;\n        }\n\n        // delta pruning\n        if ((pos.board[move[1]] || move[1] === pos.ep) && nextScore + 2 * PIECE.P >= alpha) {\n          // passes margin and not silent positon, search deeper\n          const nextPos = pos.move(move, promo, -nextScore);\n          boardTable.push(nextPos.boardHash);\n          const score = -alphaBeta(nextPos, 0, -beta, -alpha, pieces.new(tp));\n          boardTable.pull(nextPos.boardHash);\n          return handleMove(move, promo, score);\n        }\n        return false; // let forMoves() keep running\n      });\n      // if stalemate is still true, we know no valid moves were tested,\n      // but we don't know if there were no valid moves\n      // and therefore we should just return the score of this position\n      if (stalemate && alpha < beta) {\n        entry.fail = E;\n        entry.score = pos.score;\n        return pos.score;\n      }\n    }\n  } else {\n    // depth >= 1\n\n    // futiity pruning (use when searching deeper, not yet, need\n    // to watch out for king-take moves)\n    if (!root && depth === 1 && pos.score + PIECE.Q < alpha) {\n      if (pos.inCheck(next(pos.turn))) {\n        entry.score = MAX_SCORE;\n        entry.fail = H\n        return MAX_SCORE; // if you can take king\n      } else if (endgame && inStalemate(pos)) {\n        entry.score = 0;\n        entry.fail = E;\n        return 0;\n      }\n      return alpha;\n    }\n\n    // don't do nullmove at root or in endgame\n    // if in check, will not fail high\n    let score;\n    if (!root && !endgame) {\n      score = -alphaBeta(pos.nullMove(), depth - 3, -beta, -alpha, pieces.new());\n      if (score >= beta) {\n        entry.score = beta;\n        entry.fail = H;\n        return beta;\n      }\n    }\n\n    forMoves(pos, pv, (move, promo) => {\n      const nextScore = pos.score + pos.value(move, promo);\n      // check if it's a king-take move or if the previous move was an invalid\n      // castle, if it is we save a lot of time\n      if (nextScore >= MAX_SCORE) {\n        alpha = MAX_SCORE;\n        entry.fail = H;\n        return true;\n      }\n\n      if (depth === 1 && nextScore + 2 * PIECE.P < alpha) return false;\n\n      const nextPos = pos.move(move, promo, -nextScore);\n      boardTable.push(nextPos.boardHash);\n      const score = -alphaBeta(nextPos, depth - 1, -beta, -alpha, pieces.new());\n      boardTable.pull(nextPos.boardHash);\n      return handleMove(move, promo, score);\n    });\n  }\n\n  if (stalemate && endgame) {\n    if (!pos.inCheck() && inStalemate(pos)) {\n      entry.score = 0;\n      entry.fail = E;\n      return 0;\n    }\n  }\n\n  // could only have gotten a better score, we got interrupted\n  if (timeout()) {\n    entry.fail = H;\n  }\n\n  // alpha should have been changed to beta on beta cutoff\n  entry.score = alpha;\n  return alpha;\n}\n\n// return bound in case of timeout\nfunction mtdf(pos: Position, depth: number, guess: number): [number, number] {\n  const bound = { lower: -MAX_SCORE, upper: MAX_SCORE };\n  let f = guess;\n  let beta = f - 2 * SEARCH_MARGIN; // start lower to fail high earlier\n\n  const pieces = getPieces(pos);\n\n  do {\n    // find a window of size margin, then do a binary search in it\n    if (bound.lower !== -MAX_SCORE && bound.upper !== MAX_SCORE) {\n      if (bound.upper - bound.lower > 3) beta = Math.floor((bound.lower + bound.upper) / 2);\n      else beta = f + (f === bound.lower ? 1 : 0);\n    } else if (f === bound.lower) beta = f + SEARCH_MARGIN;\n    else if (f === bound.upper) beta = f - SEARCH_MARGIN;\n\n    f = alphaBeta(pos, depth, beta - 1, beta, pieces.new(), true);\n\n    if (f < beta) bound.upper = f;\n    else {\n      bound.lower = f;\n      gotMove = true;\n    }\n  } while (bound.lower <= bound.upper - 1 && !timeout()); // - 0.01 for floating point inaccuracy\n\n  return [bound.lower, bound.upper];\n}\n\n// Assumes there are valid moves.\n// @param time How many milliseconds to think. Min: 1000 Max. 60000\n// @returns [move, promo, stopReason]\nexport default async function move(pos: Position,\n  history: History,\n  time: number = 5000,\n  maxDepth: number = 100,\n  logs: Object,\n  betweenDepths?: () => Promise<any>): Promise<[Move, Piece | void, 'time' | 'depth']> {\n  let score = pos.score;\n  let bound;\n  let entry: any;\n\n  if (maxDepth < 1) maxDepth = 1;\n\n  // set up position table (for three-repeat rule)\n  history.forEach(e => {\n    boardTable.push(new Position(e.fen).boardHash);\n  });\n  boardTable.push(pos.boardHash);\n\n  if (time < 1000) time = 1000;\n  if (time > 60000) time = 60000\n\n  // timeLimit and timeOut() is defined globally higher up\n  timeLimit = Date.now() + time; // run for 5 sec\n\n  // reset logging information\n  logs.searched = 0;\n  logs.tpHits = 0;\n\n  // iterative deepening, start at depth 1\n  let i = 1;\n  while (i <= maxDepth && !timeout()) {\n    logs.depth = i;\n    if (betweenDepths) await betweenDepths();\n\n    // get the tp entry from the previous depth\n    if (i > 1) entry = tp.get(pos.hash);\n    bound = mtdf(pos, i, score);\n    // lower bound and upper bound will always be the same unless interrupted\n    score = bound[0];\n    i++;\n    logs.searched = searched;\n    logs.tpHits = tpHits;\n  }\n  const stopReason = timeout() ? 'time' : 'depth';\n  gotMove = false; // reset this\n  searched = 0;\n  tpHits = 0;\n\n  // compare entry from the latest depth (that got interrupted)\n  // to the entry from the depth before to see which one is best\n  const deepestEntry: any = tp.get(pos.hash); // should always be a hit\n  // if we didn't even finish depth 1, entry won't be defined\n  if (!entry ||\n    ((bound: any)[0] > entry.score) || // means we got a better move\n    ((bound: any)[1] < entry.score) // means the move we have is worse than we thought\n  ) entry = deepestEntry;\n\n  tp.clear();\n  boardTable.clear();\n  const returnVal = entry.pv;\n  returnVal.push(stopReason);\n  return returnVal;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/jackfish/AI.js","/**\n * A javascript chess engine inspired by\n * [sunfish](https://github.com/thomasahle/sunfish) and\n * [chess.js](https://github.com/jhlywa/chess.js).\n * @module jackfish\n * @author Mattias Ahlsn (mattias.ahlsen@gmail.com)\n * @example\n * import Engine from 'jackfish';\n * const game = new Engine();\n *\n * @flow\n */\n\ntype Square = number | string;\n\nimport { PIECES, BLACK, WHITE } from './declarations';\nimport Position from './Position';\nimport { rank, parse, squareToString, equalBoards } from './helpers';\nimport aimove, { getPieces } from './AI';\n\nimport type { Board, Piece, Move, CR, History } from './declarations';\n\n/*\nThe board is represented as an array with indexes like this:\n8 |  0  1  2  3  4  5  6  7\n7 |  8  9  10 11 12 13 14 15\n6 |  16 17 18 19 20 21 22 23\n5 |  24 25 26 27 28 29 30 31\n4 |  32 33 34 35 36 37 38 39\n3 |  40 41 42 43 44 45 46 47\n2 |  48 49 50 51 52 53 54 55\n1 |  56 57 58 59 60 61 62 63\n  |_________________________\n     A  B  C  D  E  F  G  H\n\nPieces are represented as characters with uppercase letters for white pieces\nand lowercase for black pieces, as in FEN notation:\nPawn: 'P' and 'p'\nKnight: 'N' and 'n'\nBishop: 'B' and 'b'\nRook: 'R' and 'r'\nQueen: 'Q' and 'q'\nKing: 'K' and 'k'\n*/\n\n/**\n * Configuration object for the engine.\n * @name Options\n * @property {string?}   startPos     The FEN string of the starting position.\n * @property {Function?} betweenDepth Async function that returns a promise,\n *                                    that runs between every depth of the AI\n *                                    searches.\n * @property {number} searchTime      Time for the AI to search in seconds.\n * @example\n * const options = {\n *   startPos: 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1',\n     betweenDepths: ''\n * }\n */\nexport type Options = {\n  startPos?: string,\n  searchTime?: number,\n  betweenDepths?: () => Promise<any>,\n};\n\ntype Config = {\n  startPos: string,\n  searchTime: number,\n  betweenDepths?: () => Promise<any>,\n};\n\nconst defaultConfig: Config = {\n  startPos: 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1',\n  searchTime: 4,\n};\n\n/**\n * The chess engine, including game mechanics and\n * a configurable AI. (default export)\n * @example const game = new Engine();\n * @param options Configuration object.\n * @param {string}\n * [options.startPos='rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1']\n * @param {number}\n * [options.searchTime=4]\n * See {@link Options}.\n *\n * @return {Engine}\n */\nexport default class Engine {\n  config: Config = defaultConfig;\n  history: History = [];\n  position: Position;\n  fullMove: number;\n\n  aiInfo: {\n    depth: number,\n    searched: number,\n    tpHits: number,\n  } = ({\n    depth: 0,\n    searched: 0,\n    tpHits: 0,\n  }: any);\n\n  betweenDepths: () => Promise<any>;\n\n  constructor(options?: Options) {\n    if (options) this.configure(options);\n    this.setPos(this.config.startPos);\n  }\n\n  /**\n   * Configurate the engine (only changes passed properties).\n   * @example\n   * // set starting position to standard\n   * game.configure({ startPos: 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1' });\n   * @param options   Same type of configuration object passed to\n   *                  constructor.\n   */\n  configure(options: Options): void {\n    for (const key in options) {\n      this.config[key] = options[key];\n    }\n  }\n\n  /**\n   * Get the current configuration, including all default values.\n   * @return The configuration object.\n   */\n  getConfig(): Config {\n    return this.config;\n  }\n\n  /**\n   * Changes to the new position and clears history array.\n   * @param fen The FEN string of the position to be set.\n   * @return True if the FEN string was valid enough and the position was\n   *         successfully changed.\n   */\n  setPos(fen: string): boolean {\n    const board: Board = [];\n    let turn;\n    let wc: CR = [false, false];\n    let bc: CR = [false, false];\n    let ep = -1; // default is none\n    let kp = -1;\n    let halfMoveClock;\n    let fullMove;\n\n    const subs = fen.trim().split(/ +/); // get substrings\n    if (subs.length !== 6) return false;\n\n    let pos = 0; // current board position (square)\n    let i = 0; // index of string\n    // The board array is indexed the same way as FEN notation.\n    while (i < subs[0].length) {\n      let c = subs[0].charAt(i); // currently parsed char\n      const num = parseInt(c);\n      if (Number.isInteger(num) && num > 0) {\n        if (num > 8 - pos % 8) return false;\n        for (let j = 0; j < num; j++) {\n          board[pos + j] = null;\n        }\n        pos += num;\n      } else if (PIECES.includes(c)) {\n        // Cast to piece when we know it is one.\n        c = ((c: any): Piece)\n        board[pos] = c;\n        pos++;\n      } else {\n        return false; // invalid FEN\n      }\n      i++;\n      if (pos >= 64) break; // should not be able to be bigger than 64\n      else if (pos % 8 === 0) {\n        if (subs[0].charAt(i) !== '/') return false;\n        i++;\n      }\n    }\n    if (fen.charAt(i) !== ' ') return false;\n\n    switch (subs[1]) {\n      case 'w': turn = WHITE; break;\n      case 'b': turn = BLACK; break;\n      default: return false;\n    }\n\n    if (subs[2] !== '-') {\n      if (subs[2].length > 4) return false;\n      const used = [];\n      for (let i = 0; i < subs[2].length; i++) {\n        const c = subs[2].charAt(i);\n        if (used.includes(c)) return false; // may only occur once\n        switch (c) {\n          case 'Q': wc[0] = true; break;\n          case 'K': wc[1] = true; break;\n          case 'q': bc[1] = true; break;\n          case 'k': bc[0] = true; break;\n          default: return false;\n        }\n        used.push(c);\n      }\n    }\n\n    if (subs[3] !== '-') {\n      ep = parse(subs[3]);\n      const r = rank(ep);\n      if (isNaN(ep)) return false;\n      if (r !== 3 && r !== 6) return false;\n    }\n\n    halfMoveClock = parseInt(subs[4]);\n    fullMove = parseInt(subs[5]);\n    if (!(Number.isInteger(halfMoveClock) && halfMoveClock >= 0)) return false;\n    if (!(Number.isInteger(fullMove) && fullMove > 0)) return false;\n\n    // if we've made it this far, we're golden\n    this.fullMove = fullMove;\n    this.position = new Position(board, turn, wc, bc, ep, kp, halfMoveClock);\n    this.history = [];\n    return true;\n  }\n\n  validFen(fen: string) {\n    const dummy = new this.constructor();\n    return dummy.setPos(fen);\n  }\n\n  /**\n   * Returns the FEN representation of the game.\n   * @return The FEN string.\n   */\n  fen(): string {\n    const pos = this.position;\n    const board = pos.board;\n    let fen = '';\n    let spaces = 0;\n    for (let i = 0; i < 64; i++) {\n      if (board[i] === null) spaces++;\n      else {\n        if (spaces > 0) {\n          fen += spaces;\n          spaces = 0;\n        }\n        fen += board[i];\n      }\n      if (i % 8 === 7) {\n        if (spaces > 0) {\n          fen += spaces;\n          spaces = 0;\n        }\n        if (i < 63) fen += '/';\n      }\n    }\n\n    fen += ' ';\n    if (pos.turn === WHITE) fen += 'w';\n    else fen += 'b';\n\n    fen += ' ';\n    if (!pos.wc[0] && !pos.wc[1] && !pos.bc[0] && !pos.bc[1]) fen += '-';\n    else {\n      if (pos.wc[1]) fen += 'K';\n      if (pos.wc[0]) fen += 'Q';\n      if (pos.bc[1]) fen += 'k';\n      if (pos.bc[0]) fen += 'q';\n    }\n\n    fen += ' ';\n    if (pos.ep !== -1) fen += squareToString(pos.ep);\n    else fen += '-';\n\n    fen += ' ';\n    fen += pos.halfMoveClock;\n\n    fen += ' ';\n    fen += this.fullMove;\n\n    return fen;\n  }\n\n  /**\n   * Moves from position o to position t, making sure it's a valid move.\n   * Positions can be on the form 0 for A8, 7 for H8, ..., 56 for A1,\n   * 63 for H1, or simply on the form 'a1', 'b7', etc...\n   * @param o Origin position.\n   * @param t Target position.\n   * @return True if it was a valid move.\n   */\n  move(o: Square, t: Square, promo?: Piece): boolean {\n    // parse() returns NaN for invalid position strings\n    o = (parse(o): number);\n    t = (parse(t): number);\n\n    // check that promotion piece is valid if there is one\n    if (promo) {\n      if (this.position.turn === WHITE) {\n        if (!'QNRB'.includes(promo)) return false;\n      } else if (!'qnrb'.includes(promo)) return false;\n    }\n\n    if (this.valid(o, t)) {\n      this.history.push({fen: this.fen(), move: [o, t]});\n      this.position = this.position.move([o, t], promo);\n      if (this.position.turn === WHITE) this.fullMove += 1;\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * Undoes the latest move if there is one.\n   * @return The move that was undone on the form [origin, target] or null if\n   * there were no previous moves.\n   */\n  undoMove(): Move | null {\n    const history = this.history; // save this, setPos() clears it\n    const last = history.pop();\n    if (last) {\n      this.setPos(last.fen);\n      this.history = history; // need to set this because setPos() clears it\n      return last.move;\n    }\n    return null;\n  }\n\n  /**\n   * Get winner if there is one.\n   */\n  winner(): 'white' | 'black' | 'draw' | null {\n    if (this.inCheckMate()) {\n      if (this.position.turn === WHITE) return 'black';\n      else return 'white';\n    }\n\n    if (this.fiftyMoves() || this.inThreefoldRepetition() ||\n      this.inStaleMate() || this.insuffMaterial()) return 'draw'\n\n    return null;\n  }\n\n  insuffMaterial() {\n    return getPieces(this.position).insufficientMaterial();\n  }\n\n  /** Returns true if in draw according to fifty move rule. */\n  fiftyMoves(): boolean {\n    return this.position.halfMoveClock >= 50;\n  }\n\n  /** Returns true if the current board position has ocurred 3 or more times. */\n  inThreefoldRepetition(): boolean {\n    let count = 1; // starts at 1 because current position is 1 occurence\n    for (let i = 0; i < this.history.length; i++) {\n      const game = new Engine();\n      game.setPos(this.history[i].fen);\n      if (equalBoards(game.position.board, this.position.board)) {\n        count++;\n        if (count === 3) return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Check if side to move is in checkmate.\n   */\n  inCheckMate(): boolean {\n    return this.moves().length === 0 && this.position.inCheck();\n  }\n\n  /**\n   * Check if in stalemate.\n   */\n  inStaleMate(): boolean {\n    return this.moves().length === 0 && !this.position.inCheck();\n  }\n\n  /** Returns an array of valid moves. Only returns one move for promotions. */\n  moves(): Array<Move> {\n    const moves = [];\n    const generator = this.position.genMoves(); // move generator\n    let el = generator.next();\n    while (!el.done) {\n      if (this.position.valid(el.value)) moves.push(el.value);\n      el = generator.next();\n    }\n    return moves;\n  }\n\n  /**\n   * Returns true if a move is valid.\n   */\n  valid(o: Square, t: Square): boolean {\n    o = parse(o);\n    t = parse(t);\n\n    return this.position.valid([o, t]);\n  }\n\n  /**\n   * Sets position to the starting position set in config.startingPos (default\n   * is normal starting position).\n   */\n  restart(): void {\n    this.setPos(this.config.startPos);\n  }\n\n  /**\n   * Let the AI make a move. If there are no valid moves, return null.\n   * @param [time=5000] Time to think in milliseconds. Min-value: 1000.\n   * @return The move that was made.\n   */\n  async aiMove(maxDepth?: number): Promise<[Move, Piece | void] | void> {\n    // This implies that there are valid moves to be made.\n    if (this.winner() !== null) return;\n\n    const move = await aimove(this.position, this.history,\n      this.config.searchTime * 1000, maxDepth, this.aiInfo, this.config.betweenDepths);\n    if (move) {\n      this.move(move[0][0], move[0][1], move[1]);\n\n      return move;\n    } else throw new Error('The AI failed to make a move');\n  }\n\n  /**\n   * Returns whose turn it is.\n   * @return turn\n   */\n  turn(): 'white' | 'black' {\n    if (this.position.turn === WHITE) return 'white';\n    else return 'black';\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/jackfish/index.js","<template>\n  <div>\n    <header id=\"header\">\n      <h1>Jackfish</h1>\n      <h2>A chess engine in javascript.</h2>\n    </header>\n    <div class=\"container-fluid\">\n      <Promotion v-if=\"promotion\" :pos=\"promotion.pos\" :board=\"$refs.board\"\n        :color=\"promotion.color\" @done=\"handlePromotion\">\n      </Promotion>\n      <div id=\"board\" ref=\"board\" @click=\"cancel\" touch-action=\"none\">\n      </div>\n\n      <div class=\"row\">\n        <div class=\"game-status col-sm-6\">\n          <h3 v-if=\"winner === 'white'\">The winner is\n            <span class=\"white\">white</span></h3>\n          <h3 v-else-if=\"winner === 'black'\">The winner is\n            <span class=\"black\">black</span></h3>\n          <h3 v-else-if=\"winner === 'draw'\">It's a draw</h3>\n          <h3 v-else :style=\"{ visibility: 'hidden' }\">\n            Game is still running.\n          </h3>\n\n          <button type=\"button\" class=\"btn btn-light\" @click=\"undoMove\">\n            Undo move\n          </button>\n          <button type=\"button\" class=\"btn btn-light\" @click=\"restart\">\n            Restart\n          </button>\n\n          <div class=\"mt-3\">\n            <h6>AI search time (s)</h6>\n            <div class=\"mb-2\"><input v-model=\"game.config.searchTime\"></div>\n            <button type=\"button\" class=\"btn btn-outline-success\" @click=\"setTime(2)\">Easy</button>\n            <button type=\"button\" class=\"btn btn-outline-warning\" @click=\"setTime(4)\">Medium</button>\n            <button type=\"button\" class=\"btn btn-outline-danger\"  @click=\"setTime(6)\">Hard</button>\n          </div>\n\n          <div class=\"mt-3\">\n            <h6>Fen of starting position.</h6>\n            <div><input v-model=\"startPos\" class=\"fen\"></div>\n            <button class=\"btn btn-dark\" @click=\"setStartPos\">Set position</button>\n            <button class=\"btn btn-dark\" @click=\"resetStartPos\">Reset</button>\n            <p v-if=\"invalidStartPos\" class=\"text-danger\">Invalid FEN string</p>\n          </div>\n\n          <div class=\"mt-3\">\n            <h6>\n              <a href=\"https://en.wikipedia.org/wiki/Forsyth%E2%80%93Edwards_Notation\">\n                FEN\n              </a> of board\n            </h6>\n            <div><input v-model=\"fen\" class=\"fen\"></div>\n            <button class=\"btn btn-dark\" @click=\"setPos\">Set position</button>\n            <p v-if=\"invalidFen\" class=\"text-danger\">Invalid FEN string</p>\n          </div>\n\n          <div class=\"mt-3\">\n            <p><strong>Depth:</strong> {{aiInfo.depth}}</p>\n            <p><strong>Nodes searched:</strong> {{aiInfo.searched}}</p>\n            <p><strong>Hits in transposition table:</strong> {{aiInfo.tpHits}}</p>\n          </div>\n        </div>\n\n        <div class=\"col-sm-6 links\">\n          <h3>About</h3>\n          <p>\n            This is a chess engine I've built in javascript. The \"AI\" uses\n            <a href=\"https://chessprogramming.wikispaces.com/MTD%28f%29\">mtd(f)</a>.\n            All rules apply: insufficient material, fifty-move rule, threefold\n            repetition etc, and the AI recognizes all these as draws and evaluates\n            them accordingly. See more below.\n          </p>\n          <a class=\"btn btn-primary btn-lg\" href=\"https://github.com/mattiasahlsen/jackfish/\" role=\"button\">\n            Github repo\n          </a>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"about mt-4 mb-4\">\n      <h4 class=\"mt-3\">Features</h4>\n      <ul class=\"list-group\">\n        <li class=\"list-group-item\">\n          <a href=\"https://chessprogramming.wikispaces.com/Simplified+evaluation+function\">\n            Piece-square table evaluation\n          </a>\n        </li>\n        <li class=\"list-group-item\">\n          <a href=\"https://chessprogramming.wikispaces.com/MTD%28f%29\">\n            MTD(f)\n          </a>\n        </li>\n        <li class=\"list-group-item\">\n          <a href=\"https://chessprogramming.wikispaces.com/Alpha-Beta\">\n            Alpha-beta\n          </a>\n        </li>\n        <li class=\"list-group-item\">\n          <a href=\"https://chessprogramming.wikispaces.com/Iterative+Deepening\">\n            Iterative deepening\n          </a>\n        </li>\n        <li class=\"list-group-item\">\n          <a href=\"https://chessprogramming.wikispaces.com/Transposition%20Table#KeyCollisions\">\n            Transposition table\n          </a>\n        </li>\n        <li class=\"list-group-item\">\n          <a href=\"https://chessprogramming.wikispaces.com/Quiescence+Search\">\n            Quiescence search\n          </a>\n        <li class=\"list-group-item\">\n          <a href=\"https://chessprogramming.wikispaces.com/delta+pruning\">\n            Delta pruning\n          </a>\n        </li>\n      </ul>\n\n      <h4 class=\"mt-3\">To be implemented</h4>\n      <ul class=\"list-group\">\n        <li class=\"list-group-item\">\n          <a href=\"https://chessprogramming.wikispaces.com/Killer+Move\">\n            Killer heuristic\n          </a>\n        </li>\n        <li class=\"list-group-item\">\n          <a href=\"https://chessprogramming.wikispaces.com/Pawn%20Structure\">\n            Pawn structure evaluation\n          </a>\n        </li>\n      </ul>\n\n      <h4 class=\"mt-3\">Credits to</h4>\n      <a href=\"https://chessprogramming.wikispaces.com/\">https://chessprogramming.wikispaces.com/</a>\n      <br>\n      <a href=\"https://github.com/thomasahle/sunfish\">https://github.com/thomasahle/sunfish</a>\n    </div>\n    <p class=\"created-by\">Created by Mattias Ahlsn</p>\n  </div>\n</template>\n\n<script>\nimport Promotion from './Promotion';\n\n// Images for the chess board are copied to /static/img\nimport Chessboard from 'chessboardjs';\nimport 'chessboardjs/www/css/chessboard.css';\n\nimport Engine from '@/jackfish';\nimport { WHITE, BLACK } from '@/jackfish/declarations';\nimport { rank, parse } from '@/jackfish/helpers';\n\nconst game = new Engine();\n\nexport default {\n  name: 'Home',\n  components: {\n    Promotion,\n  },\n\n  data () {\n    return {\n      game: game,\n      promotion: null,\n      winner: game.winner(),\n      aiInfo: game.aiInfo,\n\n      fen: game.fen(),\n      startPos: game.config.startPos,\n      board: null,\n    };\n  },\n  computed: {\n    invalidFen() {\n      return !game.validFen(this.fen);\n    },\n    invalidStartPos() {\n      return !game.validFen(this.startPos);\n    },\n  },\n  watch: {\n    'game.position.board': function() {\n      this.board.position(this.game.fen(), false);\n      this.winner = this.game.winner();\n      this.fen = this.game.fen();\n    },\n    'game.position.turn': function() {\n      if (this.game.turn() === 'black' && this.game.winner() === null) {\n        setTimeout(() => this.game.aiMove(5000), 100);\n      }\n    },\n\n    'game.aiInfo': {\n      handler: function(val) { this.aiInfo = val; }, deep: true\n    }\n  },\n  mounted () {\n    this.game.configure({\n      betweenDepths: () => {\n        // nothing else works to force a re-render... Vue seems to be bugged.\n        return new Promise(resolve => setTimeout(resolve, 10));\n      },\n    })\n\n    this.onDragStart = (src, piece) => {\n      return (piece.charAt(0) === 'w' ? WHITE : BLACK) === this.game.position.turn &&\n      this.winner === null;\n    }\n\n    this.onDrop = (src, target, piece) => {\n      if (!this.game.valid(src, target)) return 'snapback';\n\n      // pawn promotion\n      const r = rank(parse(target));\n      if (piece.charAt(1) === 'P' && (r === 8 || r === 1)) {\n        const color = (piece.charAt(0) === 'w') ? WHITE : BLACK;\n        // this refers to the vue object\n        this.promotion = {\n          pos: parse(target),\n          color,\n          src,\n          target,\n        };\n        return;\n      }\n\n      this.game.move(src, target); // we already know it's valid\n    }\n    this.createBoard()\n    this.$refs.board.ontouchmove = (event) => event.preventDefault()\n  },\n  methods: {\n    createBoard() {\n      console.log($(window).width() * 0.9)\n      this.$refs.board.style.width = this.$refs.board.style.height =\n        Math.min($(window).height() - $('#header').height() - 15, $(window).width() * 0.8) + 'px'\n      this.$refs.board.style.marginLeft = 'auto'\n      this.$refs.board.style.marginRight = 'auto'\n\n      this.board = Chessboard('board', {\n        position: this.game.fen(),\n        draggable: true,\n        onDrop: this.onDrop,\n        onDragStart: this.onDragStart,\n      });\n    },\n    destroyBoard() {\n      if (this.board) this.board.destroy()\n      this.board = null\n    },\n    handlePromotion(piece) {\n      this.game.move(\n        this.promotion.src,\n        this.promotion.target,\n        piece\n      );\n      this.promotion = null;\n    },\n    cancel() {\n      // cancel pawn promotion primarily\n      this.promotion = null;\n      this.board.position(this.game.fen(), false);\n    },\n    undoMove() {\n      this.game.undoMove();\n      if (game.position.turn === BLACK) this.game.undoMove();\n    },\n    restart() {\n      this.game.restart();\n    },\n\n    setPos() {\n      if (this.game.setPos(this.fen)) this.fen = this.game.fen();\n    },\n    setStartPos() {\n      if (game.validFen(this.startPos)) {\n        this.game.configure({\n          startPos: this.startPos\n        });\n      }\n    },\n    resetStartPos() {\n      this.game.configure({\n        startPos: 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1',\n      });\n      this.startPos = this.game.config.startPos;\n    },\n    setTime(time) {\n      this.game.configure({\n        searchTime: time,\n      });\n    }\n  },\n}\n</script>\n\n<style scoped>\n#board {\n  width: 50%;\n  height: 100vh;\n  margin-bottom: 50px;\n  touch-action: none;\n}\n.row {\n  width: 100%;\n  margin: 0 auto;\n}\n.game-status {\n  margin-left: auto;\n  margin-right: auto;\n}\n.game-status h3 {\n  color: #737373;\n}\n.white {\n  color: #a6a6a6;\n}\n.black {\n  color: #333333;\n}\n\n.fen {\n  width: 90%;\n  margin-bottom: 10px;\n}\n\n.links {\n  padding: 5px;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n.about {\n  padding: 5px;\n  float: left;\n  width: 100%;\n}\n.created-by {\n  display: inline-block;\n  float: right;\n  margin-right: 10px;\n}\n\n#header {\n  margin-bottom: 5px;\n}\nh1, h2 {\n  margin: 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Home.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"container-fluid\"},[(_vm.promotion)?_c('Promotion',{attrs:{\"pos\":_vm.promotion.pos,\"board\":_vm.$refs.board,\"color\":_vm.promotion.color},on:{\"done\":_vm.handlePromotion}}):_vm._e(),_vm._v(\" \"),_c('div',{ref:\"board\",attrs:{\"id\":\"board\",\"touch-action\":\"none\"},on:{\"click\":_vm.cancel}}),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"game-status col-sm-6\"},[(_vm.winner === 'white')?_c('h3',[_vm._v(\"The winner is\\n          \"),_c('span',{staticClass:\"white\"},[_vm._v(\"white\")])]):(_vm.winner === 'black')?_c('h3',[_vm._v(\"The winner is\\n          \"),_c('span',{staticClass:\"black\"},[_vm._v(\"black\")])]):(_vm.winner === 'draw')?_c('h3',[_vm._v(\"It's a draw\")]):_c('h3',{style:({ visibility: 'hidden' })},[_vm._v(\"\\n          Game is still running.\\n        \")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-light\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.undoMove}},[_vm._v(\"\\n          Undo move\\n        \")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-light\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.restart}},[_vm._v(\"\\n          Restart\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"mt-3\"},[_c('h6',[_vm._v(\"AI search time (s)\")]),_vm._v(\" \"),_c('div',{staticClass:\"mb-2\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.game.config.searchTime),expression:\"game.config.searchTime\"}],domProps:{\"value\":(_vm.game.config.searchTime)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.game.config, \"searchTime\", $event.target.value)}}})]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-outline-success\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.setTime(2)}}},[_vm._v(\"Easy\")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-outline-warning\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.setTime(4)}}},[_vm._v(\"Medium\")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-outline-danger\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.setTime(6)}}},[_vm._v(\"Hard\")])]),_vm._v(\" \"),_c('div',{staticClass:\"mt-3\"},[_c('h6',[_vm._v(\"Fen of starting position.\")]),_vm._v(\" \"),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.startPos),expression:\"startPos\"}],staticClass:\"fen\",domProps:{\"value\":(_vm.startPos)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.startPos=$event.target.value}}})]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-dark\",on:{\"click\":_vm.setStartPos}},[_vm._v(\"Set position\")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-dark\",on:{\"click\":_vm.resetStartPos}},[_vm._v(\"Reset\")]),_vm._v(\" \"),(_vm.invalidStartPos)?_c('p',{staticClass:\"text-danger\"},[_vm._v(\"Invalid FEN string\")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"mt-3\"},[_vm._m(1),_vm._v(\" \"),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.fen),expression:\"fen\"}],staticClass:\"fen\",domProps:{\"value\":(_vm.fen)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.fen=$event.target.value}}})]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-dark\",on:{\"click\":_vm.setPos}},[_vm._v(\"Set position\")]),_vm._v(\" \"),(_vm.invalidFen)?_c('p',{staticClass:\"text-danger\"},[_vm._v(\"Invalid FEN string\")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"mt-3\"},[_c('p',[_c('strong',[_vm._v(\"Depth:\")]),_vm._v(\" \"+_vm._s(_vm.aiInfo.depth))]),_vm._v(\" \"),_c('p',[_c('strong',[_vm._v(\"Nodes searched:\")]),_vm._v(\" \"+_vm._s(_vm.aiInfo.searched))]),_vm._v(\" \"),_c('p',[_c('strong',[_vm._v(\"Hits in transposition table:\")]),_vm._v(\" \"+_vm._s(_vm.aiInfo.tpHits))])])]),_vm._v(\" \"),_vm._m(2)])],1),_vm._v(\" \"),_vm._m(3),_vm._v(\" \"),_c('p',{staticClass:\"created-by\"},[_vm._v(\"Created by Mattias Ahlsn\")])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{attrs:{\"id\":\"header\"}},[_c('h1',[_vm._v(\"Jackfish\")]),_vm._v(\" \"),_c('h2',[_vm._v(\"A chess engine in javascript.\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h6',[_c('a',{attrs:{\"href\":\"https://en.wikipedia.org/wiki/Forsyth%E2%80%93Edwards_Notation\"}},[_vm._v(\"\\n              FEN\\n            \")]),_vm._v(\" of board\\n          \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-sm-6 links\"},[_c('h3',[_vm._v(\"About\")]),_vm._v(\" \"),_c('p',[_vm._v(\"\\n          This is a chess engine I've built in javascript. The \\\"AI\\\" uses\\n          \"),_c('a',{attrs:{\"href\":\"https://chessprogramming.wikispaces.com/MTD%28f%29\"}},[_vm._v(\"mtd(f)\")]),_vm._v(\".\\n          All rules apply: insufficient material, fifty-move rule, threefold\\n          repetition etc, and the AI recognizes all these as draws and evaluates\\n          them accordingly. See more below.\\n        \")]),_vm._v(\" \"),_c('a',{staticClass:\"btn btn-primary btn-lg\",attrs:{\"href\":\"https://github.com/mattiasahlsen/jackfish/\",\"role\":\"button\"}},[_vm._v(\"\\n          Github repo\\n        \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about mt-4 mb-4\"},[_c('h4',{staticClass:\"mt-3\"},[_vm._v(\"Features\")]),_vm._v(\" \"),_c('ul',{staticClass:\"list-group\"},[_c('li',{staticClass:\"list-group-item\"},[_c('a',{attrs:{\"href\":\"https://chessprogramming.wikispaces.com/Simplified+evaluation+function\"}},[_vm._v(\"\\n          Piece-square table evaluation\\n        \")])]),_vm._v(\" \"),_c('li',{staticClass:\"list-group-item\"},[_c('a',{attrs:{\"href\":\"https://chessprogramming.wikispaces.com/MTD%28f%29\"}},[_vm._v(\"\\n          MTD(f)\\n        \")])]),_vm._v(\" \"),_c('li',{staticClass:\"list-group-item\"},[_c('a',{attrs:{\"href\":\"https://chessprogramming.wikispaces.com/Alpha-Beta\"}},[_vm._v(\"\\n          Alpha-beta\\n        \")])]),_vm._v(\" \"),_c('li',{staticClass:\"list-group-item\"},[_c('a',{attrs:{\"href\":\"https://chessprogramming.wikispaces.com/Iterative+Deepening\"}},[_vm._v(\"\\n          Iterative deepening\\n        \")])]),_vm._v(\" \"),_c('li',{staticClass:\"list-group-item\"},[_c('a',{attrs:{\"href\":\"https://chessprogramming.wikispaces.com/Transposition%20Table#KeyCollisions\"}},[_vm._v(\"\\n          Transposition table\\n        \")])]),_vm._v(\" \"),_c('li',{staticClass:\"list-group-item\"},[_c('a',{attrs:{\"href\":\"https://chessprogramming.wikispaces.com/Quiescence+Search\"}},[_vm._v(\"\\n          Quiescence search\\n        \")])]),_c('li',{staticClass:\"list-group-item\"},[_c('a',{attrs:{\"href\":\"https://chessprogramming.wikispaces.com/delta+pruning\"}},[_vm._v(\"\\n          Delta pruning\\n        \")])])]),_vm._v(\" \"),_c('h4',{staticClass:\"mt-3\"},[_vm._v(\"To be implemented\")]),_vm._v(\" \"),_c('ul',{staticClass:\"list-group\"},[_c('li',{staticClass:\"list-group-item\"},[_c('a',{attrs:{\"href\":\"https://chessprogramming.wikispaces.com/Killer+Move\"}},[_vm._v(\"\\n          Killer heuristic\\n        \")])]),_vm._v(\" \"),_c('li',{staticClass:\"list-group-item\"},[_c('a',{attrs:{\"href\":\"https://chessprogramming.wikispaces.com/Pawn%20Structure\"}},[_vm._v(\"\\n          Pawn structure evaluation\\n        \")])])]),_vm._v(\" \"),_c('h4',{staticClass:\"mt-3\"},[_vm._v(\"Credits to\")]),_vm._v(\" \"),_c('a',{attrs:{\"href\":\"https://chessprogramming.wikispaces.com/\"}},[_vm._v(\"https://chessprogramming.wikispaces.com/\")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('a',{attrs:{\"href\":\"https://github.com/thomasahle/sunfish\"}},[_vm._v(\"https://github.com/thomasahle/sunfish\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-60226745\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Home.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-60226745\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Home.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-60226745\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Home.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-60226745\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Home.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Home from '@/components/Home'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'Home',\n      component: Home\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\nimport $ from 'jquery';\nwindow.$ = window.jquery = $;\n\n// this might require the jquery variable to be available\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","var map = {\n\t\"./bB.png\": [\n\t\t\"z18c\",\n\t\t11\n\t],\n\t\"./bK.png\": [\n\t\t\"dLpT\",\n\t\t10\n\t],\n\t\"./bN.png\": [\n\t\t\"KRZJ\",\n\t\t9\n\t],\n\t\"./bP.png\": [\n\t\t\"9AiN\",\n\t\t8\n\t],\n\t\"./bQ.png\": [\n\t\t\"+a6Z\",\n\t\t7\n\t],\n\t\"./bR.png\": [\n\t\t\"fFy0\",\n\t\t6\n\t],\n\t\"./wB.png\": [\n\t\t\"xofh\",\n\t\t5\n\t],\n\t\"./wK.png\": [\n\t\t\"zrxd\",\n\t\t4\n\t],\n\t\"./wN.png\": [\n\t\t\"Zz9q\",\n\t\t3\n\t],\n\t\"./wP.png\": [\n\t\t\"gMX9\",\n\t\t2\n\t],\n\t\"./wQ.png\": [\n\t\t\"80Ug\",\n\t\t1\n\t],\n\t\"./wR.png\": [\n\t\t\"rP+x\",\n\t\t0\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"TFeN\";\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/img/chesspieces/wikipedia lazy ^\\.\\/.*\\.png$\n// module id = TFeN\n// module chunks = 13"],"sourceRoot":""}